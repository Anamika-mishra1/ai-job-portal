<!DOCTYPE html>
<html>
<head>
    <title>AI Job Portal - Live</title>
    <style>
        .job { border: 1px solid #ccc; margin: 10px; padding: 15px; }
        .update { background: #e3f2fd; color: green; }
    </style>
</head>
<body>
    <h1>ðŸ”´ Live Job Updates</h1>
    <div id="jobs">
        <div class="job">Python Developer - Remote - â‚¹6LPA <button onclick="sendUpdate('New applicant!')">Notify</button></div>
        <div class="job">Django Fullstack - Gurgaon - â‚¹8LPA <button onclick="sendUpdate('Interview scheduled!')">Notify</button></div>
    </div>
<script>
const chatSocket = new WebSocket('ws://' + window.location.host + '/ws/jobs/');

chatSocket.onmessage = function(e) {
    const data = JSON.parse(e.data);
    showNotification(data.message);
};

chatSocket.onclose = function(e) {
    console.error('Chat socket closed unexpectedly');
};

function notifyApplicant(jobTitle) {
    chatSocket.send(JSON.stringify({
        'message': `ðŸ”” New applicant! (${new Date().toLocaleTimeString()}) - ${jobTitle}`
    }));
    document.querySelector('#notification-area').innerHTML += 
        `<div class="alert alert-success alert-dismissible fade show" role="alert">
            Sending notification for ${jobTitle}...
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>`;
}
</script>


    </body>
</html>
