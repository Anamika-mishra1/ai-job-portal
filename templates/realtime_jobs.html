<!DOCTYPE html>
<html>
<head>
    <title>AI Job Portal - Live</title>
    <style>
        .job { border: 1px solid #ccc; margin: 10px; padding: 15px; }
        .update { background: #e3f2fd; color: green; }
    </style>
</head>
<body>
    <h1>ðŸ”´ Live Job Updates</h1>
    <div id="jobs">
        <div class="job">Python Developer - Remote - â‚¹6LPA <button onclick="sendUpdate('New applicant!')">Notify</button></div>
        <div class="job">Django Fullstack - Gurgaon - â‚¹8LPA <button onclick="sendUpdate('Interview scheduled!')">Notify</button></div>
    </div>

    <script>
        const socket = new WebSocket('ws://' + window.location.host + '/ws/jobs/');
        
        socket.onmessage = function(e) {
            const data = JSON.parse(e.data);
            const jobsDiv = document.getElementById('jobs');
            const updateDiv = document.createElement('div');
            updateDiv.className = 'job update';
            updateDiv.innerHTML = `ðŸ”” ${data.message} (${new Date().toLocaleTimeString()})`;
            jobsDiv.appendChild(updateDiv);
        };
        
        function sendUpdate(message) {
            socket.send(JSON.stringify({message: message}));
        }
    </script>
</body>
</html>
